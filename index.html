<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LapAKABogor - Platform Produk Mahasiswa Politeknik AKA Bogor</title>
  <meta name="description" content="Temukan berbagai produk danusan, inovasi mahasiswa, serta produk IKM kampus di LapAKABogor. Belanja mudah, aman, dan langsung terhubung ke WhatsApp penjual.">
  <meta name="keywords" content="LapAKABogor, danusan, produk mahasiswa, IKM, Politeknik AKA Bogor, ecommerce kampus, toko online AKA Bogor">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#f97316">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --jingga: #f97316;
      --jingga-dark: #db6e17;
      --biru: #2563eb;
      --biru-dark: #1d4ed8;
      --merah: #dc2626;
      --merah-dark: #b91c1c;
      --hijau: #16a34a;
      --hijau-dark: #15803d;
      --gray-light: #f3f4f6;
      --gray-medium: #e5e7eb;
      --gray-dark: #4b5563;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fff;
      color: #333;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    a {
      color: inherit;
      text-decoration: none;
    }
    
    button {
      cursor: pointer;
      border: none;
      font-family: inherit;
      transition: all 0.2s ease;
    }
    
    img {
      max-width: 100%;
      height: auto;
      display: block;
    }
    
    input, textarea {
      font-family: inherit;
    }
    
    /* === SPLASH SCREEN === */
    #splashScreen {
      position: fixed;
      inset: 0;
      background: white;
      z-index: 99999;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.5s ease;
    }
    
    #splashScreen.fade-out {
      opacity: 0;
      pointer-events: none;
    }
    
    .splash-content {
      text-align: center;
      animation: splashContentUp 0.8s ease;
    }
    
    .splash-logo {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 1rem;
      border: 3px solid var(--jingga);
      box-shadow: var(--shadow-md);
    }
    
    .splash-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: #000;
    }
    
    .aka-highlight {
      color: var(--jingga);
    }
    
    @keyframes splashContentUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* === HEADER === */
    header {
      background: var(--jingga);
      color: white;
      display: flex;
      align-items: center;
      padding: 0.75rem 1.5rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-md);
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .logo {
      font-weight: 700;
      font-size: 1.25rem;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .logo span {
      color: white;
      font-weight: 800;
    }
    
    .logo-img {
      height: 40px;
      width: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid white;
    }
    
    .search-bar {
      flex: 1;
      min-width: 200px;
      position: relative;
    }
    
    .search-bar input {
      width: 100%;
      padding: 0.6rem 1rem;
      border-radius: 2rem;
      border: none;
      font-size: 0.95rem;
      box-shadow: var(--shadow-sm);
    }
    
    .search-bar input:focus {
      outline: 2px solid var(--biru);
    }
    
    .search-bar button {
      position: absolute;
      right: 0.3rem;
      top: 50%;
      transform: translateY(-50%);
      background: var(--biru);
      color: white;
      padding: 0.4rem 1rem;
      border-radius: 2rem;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .search-bar button:hover {
      background: var(--biru-dark);
    }
    
    .icons {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .icon-btn {
      background: none;
      color: white;
      font-size: 1.5rem;
      position: relative;
      padding: 0.25rem;
    }
    
    .cart-count {
      position: absolute;
      top: -6px;
      right: -8px;
      background: var(--merah);
      color: white;
      font-size: 0.75rem;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 50%;
      min-width: 20px;
      text-align: center;
      display: none;
    }
    
    /* === MAIN CONTENT === */
    main {
      padding: 1.5rem;
      flex: 1;
    }
    
    .section-title {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: var(--gray-dark);
      position: relative;
      padding-bottom: 0.5rem;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: var(--jingga);
    }
    
    /* === SLIDER === */
    .slider {
      overflow: hidden;
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: 0.75rem;
      margin-bottom: 2rem;
      position: relative;
      border: 3px solid transparent;
      background: 
        linear-gradient(#fff, #fff) padding-box,
        linear-gradient(270deg, #ef4444, #2563eb, #10b981, #f97316, #ef4444) border-box;
      background-size: 800% 800%;
      animation: borderAnimation 15s ease infinite;
      box-shadow: var(--shadow-lg);
    }
    
    @keyframes borderAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .slides {
      display: flex;
      width: 400%;
      height: 100%;
      animation: slide 40s linear infinite;
    }
    
    .slides img {
      flex: 0 0 100%;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    @keyframes slide {
      0% { transform: translateX(0%); }
      25% { transform: translateX(-100%); }
      50% { transform: translateX(-200%); }
      75% { transform: translateX(-300%); }
      100% { transform: translateX(0%); }
    }
    
    /* === PRODUCT CATALOG === */
    .catalog {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .product-card {
      background: white;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    
    .product-image {
      width: 100%;
      height: 200px;
      overflow: hidden;
    }
    
    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .product-card:hover .product-image img {
      transform: scale(1.05);
    }
    
    .product-info {
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    
    .product-name {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      color: #222;
    }
    
    .product-price {
      color: var(--merah);
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }
    
    .add-cart-btn {
      background: var(--hijau);
      color: white;
      border-radius: 2rem;
      padding: 0.6rem 1rem;
      font-weight: 600;
      font-size: 0.95rem;
      margin-top: auto;
      align-self: flex-start;
    }
    
    .add-cart-btn:hover {
      background: var(--hijau-dark);
    }
    
    /* === MODAL === */
    .modal {
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      padding: 1rem;
    }
    
    .modal.show {
      opacity: 1;
      pointer-events: auto;
    }
    
    .modal-content {
      background-color: #fff;
      padding: 1.5rem;
      border-radius: 1rem;
      max-width: 500px;
      width: 100%;
      position: relative;
      box-shadow: var(--shadow-lg);
      max-height: 90vh;
      overflow-y: auto;
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }
    
    .modal.show .modal-content {
      transform: translateY(0);
    }
    
    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      font-weight: 700;
      background: none;
      border: none;
      color: var(--gray-dark);
      cursor: pointer;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
    
    .close-modal:hover {
      background: var(--gray-light);
      color: #000;
    }
    
    .modal-img {
      width: 100%;
      border-radius: 0.75rem;
      margin-bottom: 1.5rem;
      max-height: 300px;
      object-fit: contain;
    }
    
    .modal-title {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #222;
    }
    
    .modal-desc {
      color: #444;
      line-height: 1.7;
      white-space: pre-line;
    }
    
    /* === CART MODAL === */
    #cartModal {
      position: fixed;
      top: 0;
      right: -100%;
      width: 100%;
      max-width: 450px;
      height: 100vh;
      background: white;
      box-shadow: -3px 0 10px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      display: flex;
      flex-direction: column;
    }
    
    #cartModal.open {
      right: 0;
    }
    
    .cart-header {
      background: var(--biru);
      color: white;
      padding: 1.25rem;
      font-weight: 700;
      font-size: 1.25rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .close-cart {
      background: rgba(255, 255, 255, 0.15);
      border: none;
      font-size: 1.25rem;
      color: white;
      cursor: pointer;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .close-cart:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    #cartScrollWrapper {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    
    #cartContent {
      flex: 1;
      padding: 1.25rem;
      background-color: #fafafa;
    }
    
    .cart-empty {
      text-align: center;
      color: #666;
      padding: 2rem 0;
    }
    
    .cart-item {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      background: white;
      border-radius: 0.75rem;
      margin-bottom: 1rem;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--gray-medium);
    }
    
    .cart-item-image {
      width: 80px;
      height: 80px;
      border-radius: 0.5rem;
      object-fit: cover;
      flex-shrink: 0;
      border: 1px solid var(--gray-medium);
    }
    
    .cart-item-info {
      flex: 1;
    }
    
    .cart-item-name {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #222;
    }
    
    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    
    .cart-item-qty button {
      background: var(--biru);
      color: white;
      width: 28px;
      height: 28px;
      font-weight: 700;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .cart-item-qty button:hover {
      background: var(--biru-dark);
    }
    
    .cart-item-qty span {
      min-width: 28px;
      text-align: center;
    }
    
    .cart-item-price {
      font-weight: 700;
      color: var(--merah);
      min-width: 80px;
      text-align: right;
      align-self: center;
    }
    
    .cart-footer {
      padding: 1.25rem;
      border-top: 1px solid var(--gray-medium);
      background: white;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    }
    
    .cart-total {
      font-weight: 700;
      font-size: 1.25rem;
      color: var(--merah);
      text-align: right;
      margin-bottom: 1.5rem;
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #333;
      font-size: 0.95rem;
    }
    
    .form-control {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--gray-medium);
      border-radius: 0.5rem;
      font-size: 0.95rem;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--biru);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    textarea.form-control {
      min-height: 100px;
      resize: vertical;
    }
    
    .radio-group {
      margin-bottom: 1rem;
    }
    
    .radio-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      cursor: pointer;
      user-select: none;
    }
    
    .radio-label input {
      width: 16px;
      height: 16px;
    }
    
    .checkout-btn {
      width: 100%;
      background: var(--jingga);
      color: white;
      font-weight: 600;
      padding: 1rem;
      border-radius: 2rem;
      font-size: 1rem;
      margin-top: 1rem;
    }
    
    .checkout-btn:hover {
      background: var(--jingga-dark);
    }
    
    /* === FOOTER === */
    footer {
      background: #222;
      color: white;
      padding: 2rem 1.5rem;
      text-align: center;
      margin-top: 3rem;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .footer-logo {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    
    .footer-link {
      color: #ccc;
      transition: color 0.2s ease;
    }
    
    .footer-link:hover {
      color: white;
    }
    
    .copyright {
      color: #aaa;
      font-size: 0.9rem;
    }
    
    /* === RESPONSIVE === */
    @media (max-width: 768px) {
      header {
        padding: 0.75rem 1rem;
        gap: 0.75rem;
      }
      
      .logo {
        font-size: 1.1rem;
      }
      
      .logo-img {
        width: 36px;
        height: 36px;
      }
      
      main {
        padding: 1rem;
      }
      
      .catalog {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 1rem;
      }
      
      #cartModal {
        max-width: 100%;
      }
    }
    
    @media (max-width: 480px) {
      header {
        flex-direction: column;
        text-align: center;
      }
      
      .logo {
        margin-bottom: 0.5rem;
      }
      
      .search-bar {
        width: 100%;
        order: 3;
      }
      
      .catalog {
        grid-template-columns: 1fr;
      }
      
      .product-card {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splashScreen">
    <div class="splash-content">
      <img src="lapakabogor-splash.jpg" alt="Logo LapAKABogor" class="splash-logo">
      <h1 class="splash-title">
        Selamat Datang di <span>Lap</span><span class="aka-highlight">AKA</span>Bogor
      </h1>
    </div>
  </div>
  
  <!-- Header -->
  <header>
    <div class="logo">Lap<span>AKA</span>Bogor</div>
    
    <img src="https://raw.githubusercontent.com/Lapakabogor/LapAKABogor/70fe764ad7c8a3f220d41572d96e9fba7e910ec2/WhatsApp%20Image%202025-05-01%20at%2018.04.48_78f2ec38.jpg" 
         alt="Logo LapAKABogor" 
         class="logo-img">

    <form class="search-bar" onsubmit="event.preventDefault(); performSearch();">
      <input type="search" id="searchInput" placeholder="Cari produk, UKM, atau kategori..." aria-label="Cari produk">
      <button type="submit">Cari</button>
    </form>

    <div class="icons">
      <button class="icon-btn" id="cartBtn" aria-label="Keranjang Belanja">
        üõí<span class="cart-count" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Slider -->
    <div class="slider">
      <div class="slides">
        <img src="https://raw.githubusercontent.com/Lapakabogor/LapAKABogor/09c2de1f9e0dc435fbcd163308ee462feaee6e05/nowbi%20iklan.png" alt="Iklan Nowbi Stick Ubi Ungu">
        <img src="https://raw.githubusercontent.com/Lapakabogor/LapAKABogor/09c2de1f9e0dc435fbcd163308ee462feaee6e05/IKLAN%20kingkong.png" alt="Iklan Kopi Kingkong">
        <img src="https://raw.githubusercontent.com/Lapakabogor/LapAKABogor/09c2de1f9e0dc435fbcd163308ee462feaee6e05/IKLAN%20yogood.png" alt="Iklan Yogood Mochi">
        <img src="https://raw.githubusercontent.com/Lapakabogor/LapAKABogor/09c2de1f9e0dc435fbcd163308ee462feaee6e05/IKLAN%20bochiz.png" alt="Iklan Bochiz Spaghetti">
      </div>
    </div>
    
    <h2 class="section-title">Produk Mahasiswa</h2>
    
    <!-- Product Catalog -->
    <section class="catalog" id="catalog"></section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-logo">Lap<span>AKA</span>Bogor</div>
      <div class="footer-links">
        <a href="#" class="footer-link">Tentang Kami</a>
        <a href="#" class="footer-link">Kebijakan Privasi</a>
        <a href="#" class="footer-link">Syarat & Ketentuan</a>
        <a href="#" class="footer-link">Kontak</a>
      </div>
      <p class="copyright">¬© 2024 LapAKABogor. Seluruh hak cipta dilindungi.</p>
    </div>
  </footer>

  <!-- Product Modal -->
  <div id="productModal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal()">&times;</button>
      <img id="modalImg" src="" alt="Gambar Produk" class="modal-img">
      <h2 id="modalTitle" class="modal-title"></h2>
      <p id="modalDesc" class="modal-desc"></p>
    </div>
  </div>

  <!-- Cart Modal -->
  <aside id="cartModal" aria-label="Keranjang Belanja">
    <div class="cart-header">
      Keranjang Belanja
      <button class="close-cart" id="closeCartBtn" aria-label="Tutup Keranjang">&times;</button>
    </div>

    <div id="cartScrollWrapper">
      <div id="cartContent">
        <p class="cart-empty">Keranjang kosong.</p>
      </div>

      <div class="cart-footer">
        <div class="cart-total">Total: Rp <span id="cartTotal">0</span></div>
        
        <!-- Customer Info -->
        <div class="form-group">
          <label for="namaKonsumen">Nama Lengkap</label>
          <input type="text" id="namaKonsumen" class="form-control" placeholder="Masukkan nama lengkap" required>
        </div>
        
        <div class="form-group">
          <label for="noWhatsapp">Nomor WhatsApp</label>
          <input type="tel" id="noWhatsapp" class="form-control" placeholder="Contoh: 089612345678" required>
        </div>
        
        <div class="form-group">
          <label for="catatan">Catatan Tambahan (Opsional)</label>
          <textarea id="catatan" class="form-control" placeholder="Contoh: Tolong dibungkus rapi"></textarea>
        </div>
        
        <!-- Delivery Method -->
        <div class="radio-group">
          <label>Metode Pengantaran</label>
          <div class="radio-label">
            <input type="radio" name="pengantaran" id="pickup" value="Ambil Langsung (Politeknik AKA Bogor)" checked onchange="toggleAlamat()">
            <label for="pickup">Ambil Langsung (Politeknik AKA Bogor)</label>
          </div>
          <div class="radio-label">
            <input type="radio" name="pengantaran" id="delivery" value="Diantar" onchange="toggleAlamat()">
            <label for="delivery">Diantar</label>
          </div>
        </div>
        
        <!-- Address Input -->
        <div class="form-group" id="alamatInput" style="display: none;">
          <label for="alamatPengantaran">Alamat Pengantaran</label>
          <input type="text" id="alamatPengantaran" class="form-control" placeholder="Masukkan alamat lengkap">
        </div>
        
        <!-- Payment Method -->
        <div class="radio-group">
          <label>Metode Pembayaran</label>
          <div class="radio-label">
            <input type="radio" name="pembayaran" id="qris" value="QRIS" checked>
            <label for="qris">QRIS</label>
          </div>
          <div class="radio-label">
            <input type="radio" name="pembayaran" id="cash" value="Cash">
            <label for="cash">Cash</label>
          </div>
        </div>
        
        <button class="checkout-btn" onclick="checkout()">Checkout via WhatsApp</button>
      </div>
    </div>
  </aside>

  <script>
    // Splash screen
    window.addEventListener('DOMContentLoaded', () => {
      const splash = document.getElementById('splashScreen');
      
      // Tunda 3 detik sebelum mulai menghilang
      setTimeout(() => {
        splash.classList.add('fade-out');

        // Hapus elemen dari DOM setelah transisi selesai (0.5 detik sesuai CSS)
        setTimeout(() => {
          splash.remove();
        }, 500);
      }, 3000); // Durasi splash muncul (3 detik)
    });
     
const products = [
  {
    id: 'p1',
    name: 'Stick Ubi Ungu NanoKelor',
    price: 10000, // Harga default 75 gram
    img: 'https://github.com/Lapakabogor/LapAKABogor/blob/b829aa7ec3b23db0f6145105a9dcd4439e75f1d0/NOWWBI.jpg?raw=true',
    description: 'Stick ubi ungu dengan nanoflavour daun kelor yang menyehatkan sekaligus membuat harimu menyenangkan. ' +
                 'Pilihan rasa: Karameloor (karamel + kelor), Green Zeen (green tea + kelor), Chocokick (dark choco + kelor), ' +
                 'Seayo Green (seaweed + kelor), dan Bali Breeze (sambal matah + kelor). ' +
                 'Tersedia dua ukuran: 75 gram (Rp10.000) dan 40 gram (Rp7.000).'
  },
  {

  id: 'p2',
  name: 'Spaghetti Brulee',
  price: 15000,
  img: 'https://github.com/Lapakabogor/LapAKABogor/blob/d197d8b6272aefe8cd1eb7bfc0acfc52ed6d5b63/spageti.jpg?raw=true',
  description: 'Spaghetti dengan saus bolognese gurih, disiram saus keju creamy, dan dipanggang hingga saus di atasnya brulee keemasan yang menggoda. ' +
               'üî• Tekstur lembut, rasa mewah ala resto. üßÄ Keju lumer, topping daging melimpah. ‚ùÑ Bisa frozen, tinggal panaskan & nikmati! ' +
               'Cocok untuk bekal makan siang, teman nugas, atau reward untuk teman!'
    },
{

  id: 'p3',
  name: 'Mochi Gendut',
  price: 8000,
  img: 'https://github.com/Lapakabogor/LapAKABogor/blob/c665870d6f9d56c257bd42633f3207f786cb0008/mochi.jpg?raw=true',
  description: 'MOCHI GENDUT ‚Äì Lembut, Lumer, dan Bikin Nagih! üç° Mochi lembut berisi krim lumer dan buah segar.\n' +
               '‚ú® Varian Rasa:\n' +
               'üçì Strawberry Cheesecake ‚Äì manis-asam segar\n' +
               'ü•≠ Mango Cheesecake ‚Äì tropis creamy\n' +
               'üç´ Milky Choco ‚Äì coklat susu lumer\n' +
               'üç™ Cookies n Cream ‚Äì crunchy & creamy\n' +
               '‚ùÑ Nikmat disajikan dingin.\nüéÅ Cocok untuk hadiah, camilan, atau self-reward!\n' +
               'Siap manjain lidahmu, satu gigitan nggak cukup!'
  },
  {
  id: 'p4',
  name: 'Kopi Kingkong',
  price: 10000,
  img: 'https://github.com/Lapakabogor/LapAKABogor/blob/627983ed8999c02dca972274fdc3e8a48971f1c7/kingkong%202.jpg?raw=true',
  description: 'Kopi Gula Singkong kami merupakan perpaduan rasa dan kualitas yang sempurna. ' +
               'Dibuat dari biji kopi bermutu tinggi dan gula singkong murni berkualitas tinggi, ' +
               'setiap teguk menawarkan rasa yang lembut namun khas. Kami hanya menggunakan bahan-bahan alami terbaik‚Äî' +
               'asli, tanpa kompromi, dan dipilih dengan saksama‚Äîuntuk menghadirkan pengalaman minum kopi yang benar-benar elegan.\n' +
               'Dari alamüçÉ, dibuat untuk seseorang yang benar-benar istimewaüíå'
  },
  {
    id: 'p5',
    name: 'Tas Ransel Kulit Sintetis',
    price: 200000,
    img: 'https://images.pexels.com/photos/267202/pexels-photo-267202.jpeg?auto=compress&cs=tinysrgb&w=300',
    description: 'Tas ransel dengan desain modern dan material kulit sintetis yang tahan lama, cocok untuk kerja atau kuliah.'
  },
  {
    id: 'p6',
    name: 'Jaket Hoodie Unik',
    price: 135000,
    img: 'https://images.pexels.com/photos/2540696/pexels-photo-2540696.jpeg?auto=compress&cs=tinysrgb&w=300',
    description: 'Jaket hoodie dengan desain unik dan bahan nyaman, ideal untuk gaya santai sehari-hari.'
  }
];


  const catalogEl = document.getElementById('catalog');
  const cartBtn = document.getElementById('cartBtn');
  const cartModal = document.getElementById('cartModal');
  const closeCartBtn = document.getElementById('closeCartBtn');
  const cartCountEl = document.getElementById('cartCount');
  const cartContent = document.getElementById('cartContent');
  const cartFooter = document.getElementById('cartFooter');
  const cartTotalEl = document.getElementById('cartTotal');
  let cart = {};

  function formatPrice(num) {
    return num.toLocaleString('id-ID');
  }

function renderCatalog(productsToRender) {
  catalogEl.innerHTML = '';
  if (productsToRender.length === 0) {
    catalogEl.innerHTML = '<p style="font-style:italic;color:#666;text-align:center;">Tidak ada produk ditemukan.</p>';
    return;
  }

  productsToRender.forEach(product => {
    const card = document.createElement('article');
    card.className = 'product-card';
    card.onclick = () => openModal(product.id);

    card.innerHTML = `
      <div class="product-image" style="
        background-image: url('${product.img}');
        background-size: cover;
        background-position: center;
        height: 180px;
        border-radius: 1.25rem 1.25rem 0 0;
      "></div>
      <main>
        <div class="product-name">${product.name}</div>
        <div class="product-price">Rp ${formatPrice(product.price)}</div>
        <button class="add-cart-btn" onclick="event.stopPropagation(); addToCart('${product.id}')">
          Tambah ke Keranjang
        </button>
      </main>
    `;

    catalogEl.appendChild(card);
  });
}

function openModal(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;

  const modal = document.getElementById('productModal');
  document.getElementById('modalImg').src = product.img;
  document.getElementById('modalTitle').textContent = product.name;
  document.getElementById('modalDesc').textContent = product.description;

  modal.style.display = 'flex';
  setTimeout(() => modal.classList.add('show'), 10); // untuk efek animasi
}

function closeModal() {
  const modal = document.getElementById('productModal');
  modal.classList.remove('show');
  setTimeout(() => {
    modal.style.display = 'none';
  }, 200); // tunggu animasi selesai
}

function addToCart(productId) {
  if (cart[productId]) {
    cart[productId].qty++;
  } else {
    const product = products.find(p => p.id === productId);
    if (!product) return; // cegah error jika produk tidak ditemukan
    cart[productId] = {
      ...product,
      qty: 1
    };
  }
  updateCartUI();
  openCart();
}

function removeFromCart(productId) {
  if (cart[productId]) {
    delete cart[productId];
    updateCartUI();
  }
}

function changeQty(productId, delta) {
  if (!cart[productId]) return;
  cart[productId].qty += delta;
  if (cart[productId].qty <= 0) {
    removeFromCart(productId);
  } else {
    updateCartUI();
  }
}

function updateCartUI() {
  const totalItems = Object.values(cart).reduce((sum, item) => sum + item.qty, 0);

  // Update indikator jumlah produk di ikon keranjang
  if (totalItems > 0) {
    cartCountEl.style.display = 'inline-block';
    cartCountEl.textContent = totalItems;
  } else {
    cartCountEl.style.display = 'none';
  }

  // Update tampilan isi keranjang dan footer
  if (totalItems === 0) {
    // Keranjang kosong
    cartContent.innerHTML = '<p style="text-align:center;color:#666;">Keranjang kosong.</p>';
    cartFooter.style.display = 'none'; // sembunyikan footer total & checkout
  } else {
    // Ada isi keranjang
    renderCartItems(); // render list produk di keranjang
    cartFooter.style.display = 'block'; // tampilkan footer total & checkout
  }
}

function renderCartItems() {
  const cartContent = document.getElementById('cartContent');
  const cartTotalEl = document.getElementById('cartTotal');
  cartContent.innerHTML = '';

  let totalPrice = 0;

  for (const key in cart) {
    const item = cart[key];
    totalPrice += item.price * item.qty;

    const div = document.createElement('div');
    div.className = 'cart-item';
    div.style.display = 'flex';
    div.style.justifyContent = 'space-between';
    div.style.alignItems = 'center';
    div.style.padding = '10px 0';
    div.style.borderBottom = '1px solid #ddd';

    div.innerHTML = `
      <div class="cart-item-image" style="background-image:url('${item.img}'); width: 50px; height: 50px; background-size: cover; background-position: center; border-radius: 8px;" aria-label="Gambar produk ${item.name}"></div>
      <div class="cart-item-info" style="flex: 1; margin-left: 10px;">
        <div class="cart-item-name" style="font-weight: bold;">${item.name}</div>
        <div class="cart-item-qty" aria-label="Jumlah produk" style="margin-top: 4px;">
          <button aria-label="Kurangi jumlah" onclick="changeQty('${item.id}', -1)">‚àí</button>
          <span style="margin: 0 8px;">${item.qty}</span>
          <button aria-label="Tambah jumlah" onclick="changeQty('${item.id}', 1)">+</button>
        </div>
      </div>
      <div class="cart-item-price" style="min-width: 80px; text-align: right;">Rp ${formatPrice(item.price * item.qty)}</div>
    `;

    cartContent.appendChild(div);
  }

  cartTotalEl.textContent = formatPrice(totalPrice);
}


  function openCart() {
    cartModal.classList.add('open');
  }

  function closeCart() {
    cartModal.classList.remove('open');
  }

  cartBtn.addEventListener('click', () => {
    if (cartModal.classList.contains('open')) {
      closeCart();
    } else {
      openCart();
    }
  });
  closeCartBtn.addEventListener('click', closeCart);

  function performSearch() {
    const query = document.getElementById('searchInput').value.trim().toLowerCase();
    if (query === '') {
      renderCatalog(products);
    } else {
      const filtered = products.filter(p => p.name.toLowerCase().includes(query));
      renderCatalog(filtered);
    }
  }
function checkout() {
  // Hitung total belanja
  const total = Object.values(cart).reduce((sum, item) => sum + item.price * item.qty, 0);

  // Ambil identitas konsumen
  const nama = document.getElementById("namaKonsumen").value.trim();
  const whatsapp = document.getElementById("noWhatsapp").value.trim();
  const catatan = document.getElementById("catatan").value.trim();

  if (!nama || !whatsapp) {
    alert("Silakan isi nama dan nomor WhatsApp terlebih dahulu.");
    return;
  }

  // Mulai menyusun isi pesan
  let summary = "*Pesanan LapAKABogor Anda:*\n";
  for (const [id, item] of Object.entries(cart)) {
    summary += `- ${item.name} (${item.qty} x Rp ${item.price.toLocaleString()})\n`;
  }
  summary += `\n*Total:* Rp ${total.toLocaleString()}`;

  // Metode pengantaran
  const metodePengantaran = document.querySelector('input[name="pengantaran"]:checked').value;
  summary += `\n*Pengantaran:* ${metodePengantaran}`;

  // Jika memilih "Diantar", minta alamat
  if (metodePengantaran === "Diantar") {
    const alamat = document.getElementById("alamatPengantaran").value.trim();
    if (!alamat) {
      alert("Silakan masukkan alamat pengantaran.");
      return;
    }
    summary += `\n*Alamat:* ${alamat}`;
  }

  // Metode pembayaran
  const metodePembayaran = document.querySelector('input[name="pembayaran"]:checked');
  if (metodePembayaran) {
    summary += `\n*Pembayaran:* ${metodePembayaran.value}`;
  }

  // Tambahkan identitas konsumen
  summary += `\n\n*Nama:* ${nama}\n*No. WhatsApp:* ${whatsapp}`;
  if (catatan !== "") {
    summary += `\n*Catatan:* ${catatan}`;
  }

  // Arahkan ke WhatsApp
  summary += '\n\nPesanan sudah lengkap, mohon segera diproses ya. üôå';
  const waMessage = encodeURIComponent(summary);
  const waLink = `https://wa.me/6282125466588?text=${waMessage}`;
  window.open(waLink, '_blank');
}

// Fungsi untuk menampilkan input alamat jika pilih "Diantar"
function toggleAlamat() {
  const selected = document.querySelector('input[name="pengantaran"]:checked').value;
  const alamatInput = document.getElementById('alamatInput');
  alamatInput.style.display = (selected === "Diantar") ? 'block' : 'none';
}

  // Inisialisasi awal
  renderCatalog(products);
  updateCartUI();
</script>
</body>
</html>
